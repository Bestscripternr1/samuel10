local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/1nig1htmare1234/SCRIPTS/refs/heads/main/Orion.lua')))()
local Material = loadstring(game:HttpGet("https://raw.githubusercontent.com/Kinlei/MaterialLua/master/Module.lua"))()

-- Services
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TeleportService = game:GetService("TeleportService")
local TweenService = game:GetService("TweenService")
local Lighting = game:GetService("Lighting")
local CoreGui = game:GetService("CoreGui")

local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- ===========================
-- PREMIUM GUI DESIGN
-- ===========================
local Window = Material.Load({
    Title = "Samuel Scripts | Emergency Hamburg",
    Style = 3,
    SizeX = 500,
    SizeY = 450,
    Theme = "Dark",
    ColorOverrides = {
        MainFrame = Color3.fromRGB(25, 25, 35),
        Min = Color3.fromRGB(0, 170, 255),
        Max = Color3.fromRGB(0, 170, 255),
        Toggle = Color3.fromRGB(0, 170, 255),
        Slider = Color3.fromRGB(0, 170, 255),
        Dropdown = Color3.fromRGB(0, 170, 255),
    }
})

-- ===========================
-- WALLHACK (Durchsichtige W√§nde)
-- ===========================
local WallhackTab = Window.New({
    Title = "üîç Wallhack"
})

local wallhackEnabled = false
local originalTransparency = {}
local originalMaterial = {}
local wallhackParts = {}

WallhackTab.Toggle({
    Text = "üîç Wallhack Aktivieren",
    Callback = function(state)
        wallhackEnabled = state
        
        if state then
            -- Durchsichtige W√§nde aktivieren
            spawn(function()
                for _, part in pairs(Workspace:GetDescendants()) do
                    if part:IsA("BasePart") and part.Transparency < 0.9 then
                        -- W√§nde, B√∂den, Decken erkennen
                        local isWall = part.Name:lower():find("wall") 
                        or part.Name:lower():find("floor") 
                        or part.Name:lower():find("ceiling")
                        or part.Name:lower():find("roof")
                        or part.Name:lower():find("building")
                        or part.Name:lower():find("house")
                        
                        if isWall then
                            table.insert(wallhackParts, part)
                            originalTransparency[part] = part.Transparency
                            originalMaterial[part] = part.Material
                            
                            part.Transparency = 0.7
                            part.Material = Enum.Material.Glass
                        end
                    end
                end
            end)
            
            -- Alle neuen Teile auch durchsichtig machen
            Workspace.DescendantAdded:Connect(function(part)
                if wallhackEnabled and part:IsA("BasePart") then
                    local isWall = part.Name:lower():find("wall") 
                    or part.Name:lower():find("floor") 
                    or part.Name:lower():find("ceiling")
                    or part.Name:lower():find("building")
                    
                    if isWall then
                        task.wait(0.1)
                        part.Transparency = 0.7
                        part.Material = Enum.Material.Glass
                    end
                end
            end)
        else
            -- Zur√ºck zur normalen Sicht
            for part, transparency in pairs(originalTransparency) do
                if part and part.Parent then
                    part.Transparency = transparency
                    part.Material = originalMaterial[part] or Enum.Material.Plastic
                end
            end
            wallhackParts = {}
            originalTransparency = {}
            originalMaterial = {}
        end
    end,
    Enabled = false
})

WallhackTab.Slider({
    Text = "Transparenz Level",
    Callback = function(value)
        if wallhackEnabled then
            for _, part in pairs(wallhackParts) do
                if part and part.Parent then
                    part.Transparency = value / 100
                end
            end
        end
    end,
    Min = 10,
    Max = 90,
    Def = 70
})

-- ===========================
-- PLAYER TELEPORT
-- ===========================
local TeleportTab = Window.New({
    Title = "üåÄ Spieler Teleport"
})

-- Spielerliste f√ºr Dropdown
local playerList = {}
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        table.insert(playerList, player.Name)
    end
end

local selectedPlayer = nil

TeleportTab.Dropdown({
    Text = "üéØ W√§hle Spieler",
    Callback = function(value)
        selectedPlayer = value
    end,
    Options = playerList
})

-- Spielerliste aktualisieren
Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        table.insert(playerList, player.Name)
        TeleportTab.Dropdown({
            Text = "üéØ W√§hle Spieler",
            Callback = function(value)
                selectedPlayer = value
            end,
            Options = playerList
        })
    end
end)

Players.PlayerRemoving:Connect(function(player)
    for i, name in ipairs(playerList) do
        if name == player.Name then
            table.remove(playerList, i)
            break
        end
    end
end)

-- Teleport-Funktionen
TeleportTab.Button({
    Text = "üìç Zu Spieler teleportieren",
    Callback = function()
        if selectedPlayer then
            local targetPlayer = Players[selectedPlayer]
            if targetPlayer and targetPlayer.Character then
                local targetPos = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
                if targetPos then
                    -- Sanfte Teleportation mit Tween
                    local character = LocalPlayer.Character
                    if character then
                        local hrp = character:FindFirstChild("HumanoidRootPart")
                        if hrp then
                            local distance = (hrp.Position - targetPos.Position).Magnitude
                            local tweenTime = math.min(distance / 100, 2)
                            
                            local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                            local goal = {}
                            goal.CFrame = targetPos.CFrame * CFrame.new(0, 0, 5)
                            
                            local tween = TweenService:Create(hrp, tweenInfo, goal)
                            tween:Play()
                            
                            Material.Banner({
                                Text = "Zu " .. selectedPlayer .. " teleportiert",
                                Time = 3
                            })
                        end
                    end
                end
            end
        end
    end
})

TeleportTab.Button({
    Text = "üéØ Spieler zu mir teleportieren",
    Callback = function()
        if selectedPlayer then
            local targetPlayer = Players[selectedPlayer]
            if targetPlayer and targetPlayer.Character then
                local character = LocalPlayer.Character
                if character then
                    local hrp = character:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        local targetHrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
                        if targetHrp then
                            local distance = (hrp.Position - targetHrp.Position).Magnitude
                            local tweenTime = math.min(distance / 100, 2)
                            
                            local tweenInfo = TweenInfo.new(tweenTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                            local goal = {}
                            goal.CFrame = hrp.CFrame * CFrame.new(0, 0, 5)
                            
                            local tween = TweenService:Create(targetHrp, tweenInfo, goal)
                            tween:Play()
                            
                            Material.Banner({
                                Text = selectedPlayer .. " zu dir teleportiert",
                                Time = 3
                            })
                        end
                    end
                end
            end
        end
    end
})

TeleportTab.Button({
    Text = "üëÅÔ∏è Zum Spieler-Camera-Fokus",
    Callback = function()
        if selectedPlayer then
            local targetPlayer = Players[selectedPlayer]
            if targetPlayer and targetPlayer.Character then
                local targetPos = targetPlayer.Character:FindFirstChild("Head") or 
                                 targetPlayer.Character:FindFirstChild("HumanoidRootPart")
                if targetPos then
                    Camera.CameraSubject = targetPos
                    Camera.CFrame = CFrame.new(targetPos.Position + Vector3.new(0, 5, 10), targetPos.Position)
                    
                    Material.Banner({
                        Text = "Auf " .. selectedPlayer + " fokussiert",
                        Time = 3
                    })
                end
            end
        end
    end
})

-- ===========================
-- PLAYER FUNCTIONS
-- ===========================
local PlayerTab = Window.New({
    Title = "‚öôÔ∏è Player"
})

-- Noclip
local noclipEnabled = false
local noclipConnection

PlayerTab.Toggle({
    Text = "üö´ Noclip",
    Callback = function(state)
        noclipEnabled = state
        if state then
            noclipConnection = RunService.Stepped:Connect(function()
                if LocalPlayer.Character then
                    for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end)
        elseif noclipConnection then
            noclipConnection:Disconnect()
        end
    end,
    Enabled = false
})

-- Fly
local flyEnabled = false
local flySpeed = 50
local flyConnection

PlayerTab.Toggle({
    Text = "‚úàÔ∏è Player Fly",
    Callback = function(state)
        flyEnabled = state
        if state then
            flyConnection = RunService.RenderStepped:Connect(function()
                if flyEnabled and LocalPlayer.Character then
                    local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        local cam = Workspace.CurrentCamera
                        local direction = Vector3.zero
                        
                        if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                            direction = direction + cam.CFrame.LookVector
                        end
                        if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                            direction = direction - cam.CFrame.LookVector
                        end
                        if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                            direction = direction - cam.CFrame.RightVector
                        end
                        if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                            direction = direction + cam.CFrame.RightVector
                        end
                        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                            direction = direction + Vector3.new(0, 1, 0)
                        end
                        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                            direction = direction - Vector3.new(0, 1, 0)
                        end
                        
                        if direction.Magnitude > 0 then
                            direction = direction.Unit * flySpeed
                        end
                        
                        hrp.Velocity = direction
                    end
                end
            end)
        elseif flyConnection then
            flyConnection:Disconnect()
        end
    end,
    Enabled = false
})

PlayerTab.Slider({
    Text = "Flug Geschwindigkeit",
    Callback = function(value)
        flySpeed = value
    end,
    Min = 10,
    Max = 200,
    Def = 50
})

-- Anti-Fall/Damage
local antiFallEnabled = false
local antiFallConnection

PlayerTab.Toggle({
    Text = "üõ°Ô∏è Anti-Fall/Damage",
    Callback = function(state)
        antiFallEnabled = state
        if state then
            antiFallConnection = RunService.Heartbeat:Connect(function()
                if LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                    local hrp = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                    
                    if humanoid and hrp then
                        if hrp.Velocity.Y < -50 then
                            hrp.Velocity = Vector3.new(hrp.Velocity.X, -20, hrp.Velocity.Z)
                        end
                        
                        if humanoid.Health < 30 then
                            humanoid.Health = humanoid.MaxHealth
                        end
                    end
                end
            end)
        elseif antiFallConnection then
            antiFallConnection:Disconnect()
        end
    end,
    Enabled = false
})

-- Anti-Taser
local antiTaserEnabled = false

PlayerTab.Toggle({
    Text = "‚ö° Anti-Taser",
    Callback = function(state)
        antiTaserEnabled = state
        if state then
            LocalPlayer.CharacterAdded:Connect(function(char)
                task.wait(0.5)
                local humanoid = char:WaitForChild("Humanoid")
                humanoid:GetPropertyChangedSignal("PlatformStand"):Connect(function()
                    if humanoid.PlatformStand then
                        humanoid.PlatformStand = false
                        humanoid:ChangeState(Enum.HumanoidStateType.Running)
                    end
                end)
            end)
        end
    end,
    Enabled = false
})

-- Click to Delete
local deleteEnabled = false
local mouse = LocalPlayer:GetMouse()

PlayerTab.Toggle({
    Text = "‚ùå Click to Delete",
    Callback = function(state)
        deleteEnabled = state
    end,
    Enabled = false
})

mouse.Button1Down:Connect(function()
    if deleteEnabled and mouse.Target then
        mouse.Target:Destroy()
    end
end)

-- ===========================
-- ESP SYSTEM
-- ===========================
local ESPTab = Window.New({
    Title = "üëÅÔ∏è ESP"
})

local espEnabled = false
local boxes = {}
local names = {}
local healthbars = {}

local function createESP(player)
    if player == LocalPlayer then return end
    
    -- Box
    local box = Drawing.new("Square")
    box.Visible = false
    box.Thickness = 2
    box.Color = Color3.new(1, 0, 0)
    box.Filled = false
    
    -- Name
    local name = Drawing.new("Text")
    name.Visible = false
    name.Color = Color3.new(1, 1, 1)
    name.Size = 14
    name.Center = true
    name.Outline = true
    name.Text = player.Name
    
    -- Health Bar
    local healthbar = Drawing.new("Square")
    healthbar.Visible = false
    healthbar.Thickness = 1
    healthbar.Filled = true
    
    boxes[player] = box
    names[player] = name
    healthbars[player] = healthbar
end

local function updateESP()
    for player, box in pairs(boxes) do
        if player.Character and player.Character:FindFirstChild("Humanoid") and 
           player.Character:FindFirstChild("HumanoidRootPart") then
           
            local rootPart = player.Character.HumanoidRootPart
            local humanoid = player.Character.Humanoid
            local screenPos, onScreen = Camera:WorldToViewportPoint(rootPart.Position)
            
            if onScreen and espEnabled then
                -- Box
                local boxSize = Vector2.new(30, 50)
                box.Size = boxSize
                box.Position = Vector2.new(screenPos.X - boxSize.X/2, screenPos.Y - boxSize.Y/2)
                box.Visible = true
                
                -- Name
                names[player].Position = Vector2.new(screenPos.X, screenPos.Y - 30)
                names[player].Visible = true
                
                -- Health Bar
                local healthPercent = humanoid.Health / humanoid.MaxHealth
                local healthbarHeight = 50 * healthPercent
                healthbars[player].Size = Vector2.new(4, healthbarHeight)
                healthbars[player].Position = Vector2.new(screenPos.X - 25, screenPos.Y + 25 - healthbarHeight)
                healthbars[player].Color = Color3.fromHSV(healthPercent * 0.3, 1, 1)
                healthbars[player].Visible = true
            else
                box.Visible = false
                names[player].Visible = false
                healthbars[player].Visible = false
            end
        else
            box.Visible = false
            names[player].Visible = false
            healthbars[player].Visible = false
        end
    end
end

-- ESP Toggle
ESPTab.Toggle({
    Text = "üì¶ Box ESP",
    Callback = function(state)
        espEnabled = state
        if state then
            RunService:BindToRenderStep("ESPUpdate", Enum.RenderPriority.First.Value + 1, updateESP)
        else
            RunService:UnbindFromRenderStep("ESPUpdate")
            for _, box in pairs(boxes) do box.Visible = false end
            for _, name in pairs(names) do name.Visible = false end
            for _, healthbar in pairs(healthbars) do healthbar.Visible = false end
        end
    end,
    Enabled = false
})

-- Initialize ESP
for _, player in pairs(Players:GetPlayers()) do
    createESP(player)
end

Players.PlayerAdded:Connect(function(player)
    createESP(player)
end)

Players.PlayerRemoving:Connect(function(player)
    if boxes[player] then boxes[player]:Remove() end
    if names[player] then names[player]:Remove() end
    if healthbars[player] then healthbars[player]:Remove() end
    boxes[player] = nil
    names[player] = nil
    healthbars[player] = nil
end)

-- ===========================
-- CAR MODIFICATIONS
-- ===========================
local CarTab = Window.New({
    Title = "üöó Auto"
})

-- Car Fly
local carFlyEnabled = false
local carFlySpeed = 100
local carFlyConnection

CarTab.Toggle({
    Text = "‚úàÔ∏è Auto Fly",
    Callback = function(state)
        carFlyEnabled = state
        if state then
            carFlyConnection = RunService.RenderStepped:Connect(function()
                if carFlyEnabled and LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                    if humanoid then
                        local seat = humanoid.SeatPart
                        if seat and seat.Name == "DriveSeat" then
                            local vehicle = seat.Parent
                            if vehicle then
                                if not vehicle.PrimaryPart then
                                    vehicle.PrimaryPart = seat
                                end
                                
                                local direction = Vector3.zero
                                local cam = Workspace.CurrentCamera
                                
                                if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                                    direction = direction + cam.CFrame.LookVector
                                end
                                if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                                    direction = direction - cam.CFrame.LookVector
                                end
                                if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                                    direction = direction - cam.CFrame.RightVector
                                end
                                if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                                    direction = direction + cam.CFrame.RightVector
                                end
                                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                                    direction = direction + Vector3.new(0, 1, 0)
                                end
                                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                                    direction = direction - Vector3.new(0, 1, 0)
                                end
                                
                                if direction.Magnitude > 0 then
                                    direction = direction.Unit * carFlySpeed
                                    vehicle:PivotTo(vehicle:GetPivot() + direction * 0.05)
                                    
                                    for _, part in pairs(vehicle:GetDescendants()) do
                                        if part:IsA("BasePart") then
                                            part.Velocity = Vector3.zero
                                            part.RotVelocity = Vector3.zero
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end)
        elseif carFlyConnection then
            carFlyConnection:Disconnect()
        end
    end,
    Enabled = false
})

CarTab.Slider({
    Text = "Flug Geschwindigkeit",
    Callback = function(value)
        carFlySpeed = value
    end,
    Min = 10,
    Max = 500,
    Def = 100
})

-- Car God Mode
CarTab.Button({
    Text = "üõ°Ô∏è Auto God Mode",
    Callback = function()
        local vehicle = Workspace.Vehicles:FindFirstChild(LocalPlayer.Name)
        if vehicle then
            vehicle:SetAttribute("CurrentHealth", math.huge)
            vehicle:SetAttribute("IsOn", true)
            Material.Banner({
                Text = "Auto God Mode aktiviert",
                Time = 3
            })
        end
    end
})

-- Infinite Fuel
CarTab.Button({
    Text = "‚õΩ Unendlich Benzin",
    Callback = function()
        local vehicle = Workspace.Vehicles:FindFirstChild(LocalPlayer.Name)
        if vehicle then
            vehicle:SetAttribute("CurrentFuel", math.huge)
            Material.Banner({
                Text = "Unendlich Benzin aktiviert",
                Time = 3
            })
        end
    end
})

-- Rainbow Car
local rainbowCar = false

CarTab.Toggle({
    Text = "üåà Regenbogen Auto",
    Callback = function(state)
        rainbowCar = state
        if state then
            spawn(function()
                while rainbowCar do
                    local vehicle = Workspace.Vehicles:FindFirstChild(LocalPlayer.Name)
                    if vehicle then
                        local hue = tick() % 5 / 5
                        local color = Color3.fromHSV(hue, 1, 1)
                        
                        for _, part in pairs(vehicle:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.Color = color
                                part.Material = Enum.Material.Neon
                            end
                        end
                    end
                    task.wait(0.1)
                end
            end)
        end
    end,
    Enabled = false
})

-- ===========================
-- LOCATION TELEPORT
-- ===========================
local LocationTab = Window.New({
    Title = "üìç Orte"
})

local locations = {
    ["üè¶ Bank"] = CFrame.new(-1198.693, 7.978, 3161.448),
    ["üëÆ Polizei"] = CFrame.new(-1658.072, 5.63, 2737.27),
    ["üè• Krankenhaus"] = CFrame.new(-278.834, 7.745, 1085.797),
    ["üîß Tuning"] = CFrame.new(-1438.654, 5.63, 118.45),
    ["üöí Feuerwehr"] = CFrame.new(-1025.361, 4.5, 3899.155),
    ["üíé Juwelier"] = CFrame.new(-407.536, 21.95, 3516.854),
    ["üõí Autohaus"] = CFrame.new(-1415.699, 4.552, 940.526),
    ["‚õΩ Tankstelle"] = CFrame.new(-1560.674, 3.944, 3813.656),
    ["üö¢ Hafen"] = CFrame.new(1191.836, 29.55, 2140.703),
    ["üëï Kleidung"] = CFrame.new(440.4, 5.52, -1438.111),
    ["üöö LKW Firma"] = CFrame.new(704.451, 4.229, 1479.927),
    ["üöå Bus Firma"] = CFrame.new(-1682.297, 8.779, -1273.078),
    ["üè¢ Gef√§ngnis"] = CFrame.new(-615.58, 5.29, 2862.237),
    ["üéÆ Arcade"] = CFrame.new(-1856.962, 5.706, 2990.518),
    ["üõ†Ô∏è Werkzeug"] = CFrame.new(-767.815, 4.374, 663.494),
}

for locationName, locationCFrame in pairs(locations) do
    LocationTab.Button({
        Text = locationName,
        Callback = function()
            local character = LocalPlayer.Character
            if character then
                local hrp = character:FindFirstChild("HumanoidRootPart")
                if hrp then
                    local vehicle = Workspace.Vehicles:FindFirstChild(LocalPlayer.Name)
                    
                    if vehicle then
                        -- Mit Auto teleportieren
                        if not vehicle.PrimaryPart then
                            local driveSeat = vehicle:FindFirstChild("DriveSeat")
                            if driveSeat then
                                vehicle.PrimaryPart = driveSeat
                            end
                        end
                        
                        if vehicle.PrimaryPart then
                            local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                            local tween = TweenService:Create(vehicle.PrimaryPart, tweenInfo, {CFrame = locationCFrame})
                            tween:Play()
                        end
                    else
                        -- Ohne Auto teleportieren
                        local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                        local tween = TweenService:Create(hrp, tweenInfo, {CFrame = locationCFrame})
                        tween:Play()
                    end
                    
                    Material.Banner({
                        Text = "Zu " .. locationName .. " teleportiert",
                        Time = 3
                    })
                end
            end
        end
    })
end

-- ===========================
-- AIMBOT
-- ===========================
local AimbotTab = Window.New({
    Title = "üéØ Aimbot"
})

local aimbotEnabled = false
local aimbotFOV = 100
local aimbotSmooth = 0.2
local aimPart = "Head"
local wallbang = true

-- FOV Circle
local fovCircle = Drawing.new("Circle")
fovCircle.Visible = false
fovCircle.Radius = aimbotFOV
fovCircle.Thickness = 2
fovCircle.Color = Color3.new(1, 0, 0)
fovCircle.Position = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)

AimbotTab.Toggle({
    Text = "üéØ Aimbot Aktivieren",
    Callback = function(state)
        aimbotEnabled = state
        fovCircle.Visible = state
    end,
    Enabled = false
})

AimbotTab.Dropdown({
    Text = "Ziel K√∂rperteil",
    Callback = function(value)
        aimPart = value
    end,
    Options = {"Head", "HumanoidRootPart", "UpperTorso"}
})

AimbotTab.Toggle({
    Text = "üî´ Durch W√§nde schie√üen",
    Callback = function(state)
        wallbang = state
    end,
    Enabled = true
})

AimbotTab.Slider({
    Text = "Aimbot FOV",
    Callback = function(value)
        aimbotFOV = value
        fovCircle.Radius = value
    end,
    Min = 10,
    Max = 500,
    Def = 100
})

AimbotTab.Slider({
    Text = "Smoothness",
    Callback = function(value)
        aimbotSmooth = value / 100
    end,
    Min = 1,
    Max = 100,
    Def = 20
})

local function findTarget()
    local nearestPlayer = nil
    local nearestDistance = aimbotFOV
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local targetPart = player.Character:FindFirstChild(aimPart)
            if targetPart then
                local screenPos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                
                if onScreen or wallbang then
                    local mousePos = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
                    local targetPos = Vector2.new(screenPos.X, screenPos.Y)
                    local distance = (mousePos - targetPos).Magnitude
                    
                    if distance < nearestDistance then
                        nearestDistance = distance
                        nearestPlayer = player
                    end
                end
            end
        end
    end
    
    return nearestPlayer
end

local aimbotConnection
aimbotConnection = RunService.RenderStepped:Connect(function()
    fovCircle.Position = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)
    
    if aimbotEnabled and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local target = findTarget()
        if target and target.Character then
            local targetPart = target.Character:FindFirstChild(aimPart)
            if targetPart then
                local targetPosition = targetPart.Position
                
                if targetPart.Velocity.Magnitude > 0 then
                    targetPosition = targetPosition + targetPart.Velocity * 0.1
                end
                
                local currentCFrame = Camera.CFrame
                local targetCFrame = CFrame.new(Camera.CFrame.Position, targetPosition)
                
                Camera.CFrame = currentCFrame:Lerp(targetCFrame, aimbotSmooth)
            end
        end
    end
end)

-- ===========================
-- MISCELLANEOUS
-- ===========================
local MiscTab = Window.New({
    Title = "‚öôÔ∏è Misc"
})

-- Auto Taser
local autoTaser = false

MiscTab.Toggle({
    Text = "‚ö° Auto Taser",
    Callback = function(state)
        autoTaser = state
        if state then
            spawn(function()
                while autoTaser do
                    local character = LocalPlayer.Character
                    if character then
                        local taser = character:FindFirstChild("Taser")
                        if taser then
                            for _, player in pairs(Players:GetPlayers()) do
                                if player ~= LocalPlayer and player.Character then
                                    local targetRoot = player.Character:FindFirstChild("HumanoidRootPart")
                                    local charRoot = character:FindFirstChild("HumanoidRootPart")
                                    
                                    if targetRoot and charRoot then
                                        local distance = (targetRoot.Position - charRoot.Position).Magnitude
                                        if distance < 50 then
                                            local remote = ReplicatedStorage:FindFirstChild("Bnl")
                                            if remote then
                                                local taserRemote = remote:FindFirstChild("c6011f40-2809-4686-a297-33283dd11715")
                                                if taserRemote then
                                                    taserRemote:FireServer(taser, targetRoot.Position)
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    end,
    Enabled = false
})

-- Radar Farm
local radarFarm = false

MiscTab.Toggle({
    Text = "üì° Radar Farm",
    Callback = function(state)
        radarFarm = state
        if state then
            spawn(function()
                while radarFarm do
                    local character = LocalPlayer.Character
                    if character then
                        local radarGun = character:FindFirstChild("Radar Gun")
                        if radarGun then
                            for _, vehicle in pairs(Workspace.Vehicles:GetChildren()) do
                                if vehicle:FindFirstChild("DriveSeat") then
                                    local remote = ReplicatedStorage:FindFirstChild("Bnl")
                                    if remote then
                                        local radarRemote = remote:FindFirstChild("bbb7c252-304d-4582-b2a0-89eb9d3a0855")
                                        if radarRemote then
                                            radarRemote:FireServer(radarGun, vehicle.DriveSeat.Position, Vector3.new(0, 0, 0))
                                        end
                                    end
                                end
                            end
                        end
                    end
                    task.wait(1)
                end
            end)
        end
    end,
    Enabled = false
})

-- Anti-AFK
MiscTab.Button({
    Text = "‚è∞ Anti-AFK Aktivieren",
    Callback = function()
        local VirtualUser = game:GetService("VirtualUser")
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
        
        Material.Banner({
            Text = "Anti-AFK aktiviert",
            Time = 3
        })
    end
})

-- Reset Character
MiscTab.Button({
    Text = "üîÑ Charakter resetten",
    Callback = function()
        local character = LocalPlayer.Character
        if character then
            character:BreakJoints()
        end
    end
})

-- ===========================
-- CREDITS TAB
-- ===========================
local CreditsTab = Window.New({
    Title = "üåü Credits"
})

CreditsTab.Label({
    Text = "Samuel Scripts"
})

CreditsTab.Label({
    Text = "Emergency Hamburg"
})

CreditsTab.Button({
    Text = "üìã Discord Link kopieren",
    Callback = function()
        setclipboard("https://discord.gg/MNEv7h9yWU")
        Material.Banner({
            Text = "Discord Link kopiert!",
            Time = 3
        })
    end
})

CreditsTab.Label({
    Text = "Made with ‚ù§Ô∏è by Samuel"
})

-- ===========================
-- CLEANUP
-- ===========================
game:GetService("UserInputService").WindowFocused:Connect(function()
    -- Keep scripts running
end)

game:GetService("UserInputService").WindowFocusReleased:Connect(function()
    -- Optional: Pause heavy operations
end)

LocalPlayer.CharacterAdded:Connect(function()
    -- Reinitialize connections
end)
